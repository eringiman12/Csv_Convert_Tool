<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/table-dragger@1.0.3/dist/table-dragger.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
   
    <style type="text/css">
         @import url("/assets/css/index.css");
    </style>
    
</head>

<body>
   <div class="main">
      <div class="Form_Block">
         <h5>CSVを選択してください</h5>
         <p>選択中ファイル名：{{ .file_name }} </p>
         <form action="/regit" method="POST" enctype="multipart/form-data" name="csvfile">
            <div>
               <input type="file" name="CSV_FIle">
               <input type="submit" value="送信する">
            </div>
         </form>
      </div>
      
      <div class="Edit_Block">
         {{ if .file_name }}
            <table id="Edit_Table">
                  {{range $i, $v := .file_ary}} 
                     {{ if lt $i 1}}
                        <thead>
                           <tr class="row_{{$i}}">
                              {{range $key, $value := index $.file_ary $i}}
                                 <th id="col_{{$key}}" class="col_{{$key}}_02">
                                    <h4>{{$value}}</h4>
                                 </th>
                              {{end}}
                           </tr>
                        </thead>
                        
                     {{ else}}
                        {{ if lt $i 10}}
                           <tr class="row_{{$i}}">
                        {{ else }}
                           <tr class="row_{{$i}}" style="display: none;">
                        {{end}}
                              {{range $key, $value := index $.file_ary $i}}
                                 <td class="col_{{$key}}_02">{{$value}}</td>
                              {{end}}
                           </tr>
                     {{ end }}
                  {{end}}
            </table>

            <div>
                  <p>・</p>
                  <p>・</p>
            </div>
            
         {{ else}}
            <p>ファイルを未選択です</p>
         {{ end }}
      </div>
      
      <div id="Preview" class="Edit_Block">
      </div>
   </div>
   <script src="/assets/js/main.js"></script>
</body>

</html>